services:
  tautulli-curated-plex:
    build:
      context: ../..
      dockerfile: docker/tautulli-curated-plex/Dockerfile
    environment:
      - HOST=0.0.0.0
      - PORT=3210
      # Persist DB + runtime state outside the container
      - APP_DATA_DIR=/data
      - DATABASE_URL=file:/data/tcp.sqlite
    ports:
      # Host port is configurable because dev boxes often already use 3000.
      - "${HOST_PORT:-3210}:3210"
    volumes:
      - tautulli-curated-plex-data:/data

volumes:
  tautulli-curated-plex-data:


